<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meeting Card Download Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .meeting-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            background: white;
        }
        .header {
            background: #3B82F6;
            color: white;
            padding: 15px;
            border-radius: 8px 8px 0 0;
            text-align: center;
            margin: -20px -20px 20px -20px;
        }
        .download-btn {
            background: #7C3AED;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 0;
        }
        .download-btn:hover {
            background: #6D28D9;
        }
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        .info-item {
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        .label {
            font-weight: bold;
            color: #374151;
        }
        .value {
            color: #6B7280;
            margin-left: 10px;
        }
        .instructions {
            background: #FEE2E2;
            border: 1px solid #FECACA;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
        }
        .instructions h4 {
            color: #DC2626;
            margin: 0 0 10px 0;
        }
        .instructions ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .instructions li {
            margin: 5px 0;
            color: #374151;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>GemNet Meeting Card Download Feature Test</h1>
        <p>This page demonstrates the new meeting card download functionality that has been added to the GemNet system.</p>
        
        <div class="meeting-card">
            <div class="header">
                <h2>Sample Meeting Card Preview</h2>
                <p>GemNet Official Meeting Verification Document</p>
            </div>
            
            <div class="info-grid">
                <div class="info-item">
                    <span class="label">Meeting ID:</span>
                    <span class="value">GEM-2025-003</span>
                </div>
                <div class="info-item">
                    <span class="label">Purchase ID:</span>
                    <span class="value">78dd3869</span>
                </div>
                <div class="info-item">
                    <span class="label">Gem:</span>
                    <span class="value">Natural Emerald (Emerald)</span>
                </div>
                <div class="info-item">
                    <span class="label">Price:</span>
                    <span class="value">LKR 1,133,333</span>
                </div>
                <div class="info-item">
                    <span class="label">Date:</span>
                    <span class="value">13/09/2025</span>
                </div>
                <div class="info-item">
                    <span class="label">Time:</span>
                    <span class="value">02:29</span>
                </div>
                <div class="info-item">
                    <span class="label">Location:</span>
                    <span class="value">Location TBD</span>
                </div>
                <div class="info-item">
                    <span class="label">Status:</span>
                    <span class="value">CONFIRMED</span>
                </div>
                <div class="info-item">
                    <span class="label">Your Role:</span>
                    <span class="value">Buyer</span>
                </div>
                <div class="info-item">
                    <span class="label">Meeting With:</span>
                    <span class="value">Seller Name</span>
                </div>
            </div>
            
            <div class="instructions">
                <h4>Important Instructions:</h4>
                <ul>
                    <li>Present this card during the meeting for verification</li>
                    <li>Admin can verify this meeting using the Meeting ID</li>
                    <li>Contact admin team for any changes or issues</li>
                    <li>Keep this card safe as proof of scheduled meeting</li>
                </ul>
            </div>
            
            <button class="download-btn" onclick="downloadSampleCard()">
                üì• Download Sample Meeting Card
            </button>
        </div>
        
        <h2>Feature Implementation Details</h2>
        <div style="background: #F3F4F6; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3>üéØ What's Been Added:</h3>
            <ul>
                <li><strong>Download Button:</strong> Added to confirmed meetings in MeetingManager.tsx</li>
                <li><strong>Meeting Card Generator:</strong> Creates a professional PNG card with all meeting details</li>
                <li><strong>Dynamic Information:</strong> Shows Meeting ID, Purchase ID, gem details, date/time, etc.</li>
                <li><strong>Role-Based Display:</strong> Shows appropriate information for buyers and sellers</li>
                <li><strong>Admin Verification:</strong> Includes Meeting ID for admin system verification</li>
            </ul>
            
            <h3>üîß Technical Implementation:</h3>
            <ul>
                <li><strong>Canvas API:</strong> Uses HTML5 Canvas to generate the card image</li>
                <li><strong>Automatic Download:</strong> Triggers PNG download with meaningful filename</li>
                <li><strong>Responsive Design:</strong> 800x600px card with proper layout</li>
                <li><strong>Professional Styling:</strong> GemNet branding with clear information hierarchy</li>
            </ul>
            
            <h3>üìç Where It Appears:</h3>
            <ul>
                <li><strong>Buyer Dashboard:</strong> In MeetingManager component for confirmed meetings</li>
                <li><strong>Seller Dashboard:</strong> In MeetingManager component for confirmed meetings</li>
                <li><strong>Action Buttons:</strong> Purple "Download Card" button next to other meeting actions</li>
            </ul>
            
            <h3>‚úÖ Admin Benefits:</h3>
            <ul>
                <li><strong>Easy Verification:</strong> Meeting ID clearly displayed for system lookup</li>
                <li><strong>Professional Documentation:</strong> Users have official proof of scheduled meetings</li>
                <li><strong>Reduced Support:</strong> Users can reference their downloaded cards</li>
                <li><strong>Audit Trail:</strong> Cards include generation date and official branding</li>
            </ul>
        </div>
    </div>

    <script>
        function downloadSampleCard() {
            // Create canvas
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            if (!ctx) return;

            // Set canvas size
            canvas.width = 800;
            canvas.height = 600;

            // Background
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Header background
            ctx.fillStyle = '#3B82F6';
            ctx.fillRect(0, 0, canvas.width, 80);

            // Title
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 24px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('GemNet Meeting Card', canvas.width / 2, 35);
            ctx.font = '14px Arial';
            ctx.fillText('Official Meeting Verification Document', canvas.width / 2, 60);

            // Content
            ctx.fillStyle = '#1F2937';
            ctx.textAlign = 'left';
            ctx.font = 'bold 18px Arial';
            
            // Meeting Information
            ctx.fillText('Meeting Information', 50, 130);
            ctx.font = '14px Arial';
            ctx.fillStyle = '#374151';
            
            const info = [
                'Meeting ID: GEM-2025-003',
                'Purchase ID: 78dd3869',
                'Gem: Natural Emerald (Emerald)',
                'Price: LKR 1,133,333',
                'Date: 13/09/2025',
                'Time: 02:29',
                'Location: Location TBD',
                'Status: CONFIRMED',
                'Your Role: Buyer',
                'Meeting With: Sample Seller'
            ];

            info.forEach((line, index) => {
                ctx.fillText(line, 50, 160 + (index * 25));
            });

            // Instructions
            ctx.fillStyle = '#DC2626';
            ctx.font = 'bold 14px Arial';
            ctx.fillText('Important Instructions:', 50, 420);
            ctx.fillStyle = '#374151';
            ctx.font = '12px Arial';
            
            const instructions = [
                '‚Ä¢ Present this card during the meeting for verification',
                '‚Ä¢ Admin can verify this meeting using the Meeting ID',
                '‚Ä¢ Contact admin team for any changes or issues',
                '‚Ä¢ Keep this card safe as proof of scheduled meeting'
            ];

            instructions.forEach((line, index) => {
                ctx.fillText(line, 50, 445 + (index * 20));
            });

            // Footer
            ctx.fillStyle = '#6B7280';
            ctx.font = '10px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`Generated on ${new Date().toLocaleDateString()} | GemNet Official Document`, canvas.width / 2, 570);

            // Download
            const link = document.createElement('a');
            link.download = 'GemNet-Meeting-Sample-Card.png';
            link.href = canvas.toDataURL();
            link.click();
            
            alert('Sample meeting card downloaded! Check your downloads folder.');
        }
    </script>
</body>
</html>